(this["webpackJsonpspider-game"]=this["webpackJsonpspider-game"]||[]).push([[0],Array(23).concat([function(e,t,n){e.exports=n.p+"static/media/spider_man_PNG43.835dec4e.png"},function(e,t,n){e.exports=n.p+"static/media/fly.8fcaccea.png"},,function(e,t,n){e.exports=n(50)},,,,,function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),l=(n(31),n(5)),i=n(4),s=(n(32),n(3)),u=n(15),m=n(1),d=n(14),f=function(e){var t=[e.fly.left,e.spider.left].sort((function(e,t){return t-e})),n=[e.fly.top,e.spider.top].sort((function(e,t){return t-e}));return t[0]-t[1]<e.spider.width/2&&n[0]-n[1]<e.spider.width/2},p=function(e){return Object(m.a)(Object(m.a)({},e.fly),{},{left:v(0,e.fieldSize.width-e.fly.width),top:v(0,e.fieldSize.height-e.fly.width)})},g=function(e){var t=e.level;return(e.score+1)%5===0&&0!==e.score&&b(t+=1),Object(m.a)(Object(m.a)({},e),{},{score:e.score+1,fly:p(e),step:e.step+.1,level:t||e.level})},v=function(e,t){var n=e-.5+Math.random()*(t-e+1);return Math.round(n)},b=function(e){var t=localStorage.getItem("spider_levels");+t>+e||(t=e,localStorage.setItem("spider_levels",t))},_="ON_ENDGAME";null===localStorage.getItem("spider_scores")&&localStorage.setItem("spider_scores",""),null===localStorage.getItem("spider_levels")&&localStorage.setItem("spider_levels","1");var E={spider:{width:50,heigth:50,left:40,top:200,transform:"rotate(0deg)"},speed:30,hp:10,step:1.5,fly:{width:50,heigth:50,left:0,top:0},levels:localStorage.getItem("spider_levels"),level:1,goTo:1,score:0,fieldSize:{width:400,height:400},highScores:localStorage.getItem("spider_scores"),name:"",endGame:!1,moveIntervalId:null},h=function(){return{type:"ON_START"}},O=function(){return{type:"ON_RIGHT"}},N=function(){return{type:"ON_LEFT"}},j=function(){return{type:"ON_BOTTOM"}},y=function(){return{type:"ON_TOP"}},w=function(){return{type:"ON_SAVE"}},k=function(e,t){return{type:"ON_CHANGE",name:e,value:t}},S=function(e){return{type:"CHANGE_LEVEL",level:e}},I=function(e){return{type:"CHANGE_GOTO",level:e}},A=Object(d.b)((function(e,t){switch(t.type){case"ON_RIGHT":return f(e)?g(e):e.spider.left+e.spider.width>e.fieldSize.width?e:Object(m.a)(Object(m.a)({},e),{},{spider:Object(m.a)(Object(m.a)({},e.spider),{},{left:e.spider.left+e.step,transform:"rotate(90deg)"})});case"ON_LEFT":return f(e)?g(e):e.spider.left<0?e:Object(m.a)(Object(m.a)({},e),{},{spider:Object(m.a)(Object(m.a)({},e.spider),{},{left:e.spider.left-e.step,transform:"rotate(270deg)"})});case"ON_BOTTOM":return f(e)?g(e):e.spider.top+e.spider.heigth>e.fieldSize.height?e:Object(m.a)(Object(m.a)({},e),{},{spider:Object(m.a)(Object(m.a)({},e.spider),{},{top:e.spider.top+e.step,transform:"rotate(180deg)"})});case"ON_TOP":return f(e)?g(e):e.spider.top<0?e:Object(m.a)(Object(m.a)({},e),{},{spider:Object(m.a)(Object(m.a)({},e.spider),{},{top:e.spider.top-e.step,transform:"rotate(0deg)"})});case"ON_SAVE":return function(e,t){var n=localStorage.getItem("spider_scores"),a=n+(n.length?",":"")+"".concat(e||"no-name",":").concat(t);n&&(a=a.split(",").map((function(e){return e.split(":")})).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e.join(":")})).slice(0,9).join(",")),localStorage.setItem("spider_scores",a)}(e.name,e.score),Object(m.a)(Object(m.a)({},e),{},{highScores:localStorage.getItem("spider_scores")});case"ON_CHANGE":return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},t.name,t.value));case _:return Object(m.a)(Object(m.a)({},e),{},{endGame:!e.endGame});case"ON_START":return Object(m.a)({},E);case"CHANGE_LEVEL":return Object(m.a)(Object(m.a)({},e),{},{level:e.goTo,step:.1*e.goTo+e.step});case"CHANGE_GOTO":return Object(m.a)(Object(m.a)({},e),{},{goTo:t.level});case"SET_INTERVAL_ID":return Object(m.a)(Object(m.a)({},e),{},{moveIntervalId:t.id});default:return e}}),E),T=(n(37),n(38),function(){Object(s.c)((function(e){return e}));var e=Object(s.b)();return r.a.createElement("ul",{className:"menu"},r.a.createElement("li",{className:"menu__item"},r.a.createElement(l.b,{className:"menu__link",to:"./play",onClick:function(){e(I(1))}},"Play")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(l.b,{className:"menu__link",to:"./go-to-level"},"Go to level")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(l.b,{className:"menu__link",to:"./high-scores"},"High scores")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(l.b,{className:"menu__link",to:"./settings"},"Settings")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(l.b,{className:"menu__link",to:"./about"},"About")))}),G=n(25),C=(n(40),function(e){e.toggleEndGame;var t=Object(s.b)(),n=Object(s.c)((function(e){return e})),c=Object(a.useState)(!1),o=Object(G.a)(c,2),i=o[0],u=o[1],m=function(e){e.preventDefault(),t(w()),u(!0)};return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"end-game__message"},"Your result saved!"),r.a.createElement(l.b,{className:"end-game__link",to:"./"},"Back to menu")):r.a.createElement("form",{onSubmit:m,className:"end-game"},r.a.createElement("input",{name:"name",value:n.name,className:"end-game__name",type:"text",placeholder:"Enter your name and press Enter",onChange:function(e){t(k(e.target.name,e.target.value))}}),r.a.createElement("div",{className:"end-game__buttons"},r.a.createElement(l.b,{className:"end-game__link",to:"./",onClick:m},"Save"),r.a.createElement(l.b,{className:"end-game__link",to:"./"},"Don't save!"))))}),L=(n(41),n(42),n(23)),x=n.n(L),H=function(){var e,t=Object(s.c)((function(e){return e})),n=Object(s.b)(),c=function(a){clearInterval(e),"ArrowUp"===a.key?e=setInterval((function(){return n(y())}),t.speed):"ArrowDown"===a.key?e=setInterval((function(){return n(j())}),t.speed):"ArrowRight"===a.key?e=setInterval((function(){return n(O())}),t.speed):"ArrowLeft"===a.key&&(e=setInterval((function(){return n(N())}),t.speed)),console.log("handel",e)};return Object(a.useEffect)((function(){return clearInterval(e),document.addEventListener("keydown",c.bind(void 0)),function(){clearInterval(e),console.log("use",e),document.removeEventListener("keydown",c.bind(void 0))}}),[]),r.a.createElement("div",null,r.a.createElement("img",{style:t.spider,src:x.a,className:"spider",alt:"spider"}))},R=n(24),W=n.n(R),B=(n(43),function(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();return Object(a.useEffect)((function(){t(h())}),[]),r.a.createElement("img",{src:W.a,className:"fly",alt:"fly",style:e.fly})}),F=function(){var e=Object(s.c)((function(e){return e}));return r.a.createElement("div",{style:e.fieldSize,className:"PlayingField"},r.a.createElement(B,null),r.a.createElement(H,null))},P=(n(44),function(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();return Object(a.useEffect)((function(){t(S())}),[]),r.a.createElement("div",{className:"play"},r.a.createElement("div",{className:"play__top"},r.a.createElement("h2",{className:"play__score"},"Score: ",e.score),r.a.createElement("h2",{className:"play__level"},"Level: ",e.level)),r.a.createElement(F,null),r.a.createElement(l.b,{className:"play__link",to:"./end-game"},"End game"))}),z=(n(45),function(e){var t=e.title,n=e.actions;return r.a.createElement("div",{className:"alert"},r.a.createElement("div",{className:"alert__main"},r.a.createElement("h2",null,t),r.a.createElement("div",{className:"alert__actions"},n.map((function(e,t){return r.a.createElement("a",{key:t,className:"alert__action",onClick:e.func,href:e.href},e.title)})))))}),M=(n(46),function(){return r.a.createElement(z,{title:"GitHub will be open in new tab",actions:[{title:"Confirm",href:null,func:function(){return window.open("https://github.com/Feuerbach98/spider-game","_blank")}},{title:"Cancel",href:"/",func:null}]})}),D=(n(47),function(){return r.a.createElement("div",{className:"settings"})}),V=(n(48),function(){var e=localStorage.getItem("spider_scores");return r.a.createElement("div",{className:"scores"},r.a.createElement("h1",null,"High scores"),e?e.split(",").map((function(e,t){var n=e.split(":");return r.a.createElement("div",{key:t,className:"score"},r.a.createElement("div",{className:"score__name"},t+1+". "+n[0]),r.a.createElement("div",{className:"score__value"},n[1]))})):"No records",r.a.createElement(l.b,{className:"scores__link",to:"./"},"Back to menu"))}),U=(n(49),function(){Object(s.c)((function(e){return e}));for(var e=Object(s.b)(),t=+localStorage.getItem("spider_levels"),n=[],a=function(t){n.push(r.a.createElement(l.b,{key:t,onClick:function(){e(I(t+1))},to:"./play",className:"go-to-level__level"},t+1))},c=0;c<t;c++)a(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"go-to-level"},n.map((function(e){return e}))),r.a.createElement(l.b,{className:"go-to-level__link",to:"./"},"Back to menu"))});var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:T}),r.a.createElement(i.a,{exact:!0,path:"/play",component:P}),r.a.createElement(i.a,{exact:!0,path:"/go-to-level",component:U}),r.a.createElement(i.a,{exact:!0,path:"/end-game",component:C}),r.a.createElement(i.a,{exact:!0,path:"/high-scores",component:V}),r.a.createElement(i.a,{exact:!0,path:"/settings",component:D}),r.a.createElement(i.a,{exact:!0,path:"/about",component:M})))},Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:A},r.a.createElement(J,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/spider-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/spider-game","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$(t,e)}))}}()}]),[[26,1,2]]]);
//# sourceMappingURL=main.9bc96f05.chunk.js.map